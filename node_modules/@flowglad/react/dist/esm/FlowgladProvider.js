"use client";
import "./chunk-CRTRMMJ7.js";
import { jsx } from "react/jsx-runtime";
import {
  QueryClient,
  QueryClientProvider
} from "@tanstack/react-query";
import { FlowgladConfigProvider } from "./FlowgladConfigContext";
import { validateUrl } from "./utils";
let clientQueryClientSingleton = void 0;
const getQueryClient = () => {
  if (typeof window === "undefined") {
    return new QueryClient();
  }
  if (!clientQueryClientSingleton) {
    clientQueryClientSingleton = new QueryClient();
  }
  return clientQueryClientSingleton;
};
const FlowgladProvider = (props) => {
  const queryClient = getQueryClient();
  if ("__devMode" in props) {
    return /* @__PURE__ */ jsx(QueryClientProvider, { client: queryClient, children: /* @__PURE__ */ jsx(
      FlowgladConfigProvider,
      {
        __devMode: true,
        billingMocks: props.billingMocks,
        children: props.children
      }
    ) });
  }
  const { baseURL, betterAuthBasePath, requestConfig, children } = props;
  if (baseURL) {
    validateUrl(baseURL, "baseURL", true);
  }
  if (betterAuthBasePath) {
    validateUrl(betterAuthBasePath, "betterAuthBasePath", true);
  }
  return /* @__PURE__ */ jsx(QueryClientProvider, { client: queryClient, children: /* @__PURE__ */ jsx(
    FlowgladConfigProvider,
    {
      baseURL,
      betterAuthBasePath,
      requestConfig,
      children
    }
  ) });
};
var FlowgladProvider_default = FlowgladProvider;
export {
  FlowgladProvider,
  FlowgladProvider_default as default
};
//# sourceMappingURL=FlowgladProvider.js.map