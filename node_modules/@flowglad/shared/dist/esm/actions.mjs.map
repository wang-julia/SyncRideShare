{"version":3,"sources":["../../src/actions.ts"],"sourcesContent":["import type { Flowglad } from '@flowglad/node'\nimport { type ZodType, z } from 'zod'\nimport {\n  FlowgladActionKey,\n  HTTPMethod,\n  UsageMeterBalance,\n} from './types/sdk'\n\nexport type FlowgladActionValidatorMap = {\n  [K in FlowgladActionKey]: {\n    method: HTTPMethod\n    inputValidator: ZodType<unknown>\n  }\n}\n\nconst createCoreCheckoutSessionSchema = z.object({\n  successUrl: z.url(),\n  cancelUrl: z.url(),\n  outputMetadata: z.record(z.string(), z.any()).optional(),\n  outputName: z.string().optional(),\n})\n\nconst checkoutSessionWithPriceId =\n  createCoreCheckoutSessionSchema.extend({\n    priceId: z.string(),\n    priceSlug: z.never().optional(), // Explicitly disallow\n    quantity: z.number().optional().default(1),\n  })\n\nconst checkoutSessionWithPriceSlug =\n  createCoreCheckoutSessionSchema.extend({\n    priceSlug: z.string(),\n    priceId: z.never().optional(), // Explicitly disallow\n    quantity: z.number().optional().default(1),\n  })\n\nexport const createProductCheckoutSessionSchema = z.union([\n  checkoutSessionWithPriceId,\n  checkoutSessionWithPriceSlug,\n])\n\nexport const createAddPaymentMethodCheckoutSessionSchema =\n  createCoreCheckoutSessionSchema.extend({\n    targetSubscriptionId: z.string().optional(),\n  })\n\nexport const createActivateSubscriptionCheckoutSessionSchema =\n  createCoreCheckoutSessionSchema.extend({\n    targetSubscriptionId: z.string(),\n  })\n\n/**\n * Use z.input to get the type before any transformations (like default values) are applied by the schema.\n * This keeps fields like `quantity` optional in the input type, even if the schema applies defaults.\n */\nexport type CreateProductCheckoutSessionParams = z.input<\n  typeof createProductCheckoutSessionSchema\n>\nexport type CreateAddPaymentMethodCheckoutSessionParams = z.infer<\n  typeof createAddPaymentMethodCheckoutSessionSchema\n>\nexport type CreateActivateSubscriptionCheckoutSessionParams = z.infer<\n  typeof createActivateSubscriptionCheckoutSessionSchema\n>\n\nexport type SubscriptionCancellationArrangement =\n  Flowglad.Subscriptions.SubscriptionCancelParams['cancellation']['timing']\n\nconst subscriptionCancellationTiming: Record<\n  string,\n  SubscriptionCancellationArrangement\n> = {\n  AtEndOfCurrentBillingPeriod: 'at_end_of_current_billing_period',\n  Immediately: 'immediately',\n}\n\nconst cancellationParametersSchema = z.discriminatedUnion('timing', [\n  z.object({\n    timing: z.literal(\n      subscriptionCancellationTiming.AtEndOfCurrentBillingPeriod\n    ),\n  }),\n  z.object({\n    timing: z.literal(subscriptionCancellationTiming.Immediately),\n  }),\n])\n\nexport const cancelSubscriptionSchema = z.object({\n  id: z.string(),\n  cancellation: cancellationParametersSchema,\n})\n\nexport const uncancelSubscriptionSchema = z.object({\n  id: z.string(),\n})\n\n/**\n * Subscription adjustment timing options.\n * - 'immediately': Apply change now with proration\n * - 'at_end_of_current_billing_period': Apply change at next billing period\n * - 'auto': Upgrades happen immediately, downgrades at end of period\n */\nexport const subscriptionAdjustmentTiming = {\n  Immediately: 'immediately',\n  AtEndOfCurrentBillingPeriod: 'at_end_of_current_billing_period',\n  Auto: 'auto',\n} as const\n\nexport type SubscriptionAdjustmentTiming =\n  (typeof subscriptionAdjustmentTiming)[keyof typeof subscriptionAdjustmentTiming]\n\n/**\n * Zod schema for subscription adjustment timing.\n * Use this schema to validate timing values consistently across SDK and backend.\n */\nexport const subscriptionAdjustmentTimingSchema = z.enum([\n  subscriptionAdjustmentTiming.Immediately,\n  subscriptionAdjustmentTiming.AtEndOfCurrentBillingPeriod,\n  subscriptionAdjustmentTiming.Auto,\n])\n\n/**\n * Terse subscription item for multi-item adjustments.\n * Must provide exactly one of priceId or priceSlug.\n */\nconst terseSubscriptionItemWithPriceId = z.object({\n  priceId: z.string(),\n  priceSlug: z.never().optional(),\n  quantity: z.number().int().positive().optional().default(1),\n})\n\nconst terseSubscriptionItemWithPriceSlug = z.object({\n  priceSlug: z.string(),\n  priceId: z.never().optional(),\n  quantity: z.number().int().positive().optional().default(1),\n})\n\nexport const terseSubscriptionItemSchema = z.union([\n  terseSubscriptionItemWithPriceId,\n  terseSubscriptionItemWithPriceSlug,\n])\n\nexport type TerseSubscriptionItem = z.input<\n  typeof terseSubscriptionItemSchema\n>\n\n/**\n * Common options for all adjustment types.\n */\nconst adjustmentCommonOptions = {\n  subscriptionId: z.string().optional(),\n  timing: subscriptionAdjustmentTimingSchema\n    .optional()\n    .default(subscriptionAdjustmentTiming.Auto),\n  prorate: z.boolean().optional(),\n}\n\n/**\n * Adjust to a specific price by slug (simplest form).\n */\nconst adjustSubscriptionByPriceSlugSchema = z.object({\n  priceSlug: z.string(),\n  priceId: z.never().optional(),\n  subscriptionItems: z.never().optional(),\n  quantity: z.number().int().positive().optional().default(1),\n  ...adjustmentCommonOptions,\n})\n\n/**\n * Adjust to a specific price by ID.\n */\nconst adjustSubscriptionByPriceIdSchema = z.object({\n  priceId: z.string(),\n  priceSlug: z.never().optional(),\n  subscriptionItems: z.never().optional(),\n  quantity: z.number().int().positive().optional().default(1),\n  ...adjustmentCommonOptions,\n})\n\n/**\n * Complex adjustment with explicit subscription items.\n */\nconst adjustSubscriptionByItemsSchema = z.object({\n  subscriptionItems: z.array(terseSubscriptionItemSchema).min(1),\n  priceId: z.never().optional(),\n  priceSlug: z.never().optional(),\n  quantity: z.never().optional(),\n  ...adjustmentCommonOptions,\n})\n\n/**\n * Schema for the adjustSubscription SDK method input.\n *\n * Three mutually exclusive forms:\n * 1. { priceSlug, quantity?, ... } - Adjust to a price by slug\n * 2. { priceId, quantity?, ... } - Adjust to a price by ID\n * 3. { subscriptionItems, ... } - Complex multi-item adjustment\n */\nexport const adjustSubscriptionParamsSchema = z.union([\n  adjustSubscriptionByPriceSlugSchema,\n  adjustSubscriptionByPriceIdSchema,\n  adjustSubscriptionByItemsSchema,\n])\n\nexport type AdjustSubscriptionParams = z.input<\n  typeof adjustSubscriptionParamsSchema\n>\n\nconst baseUsageEventFields = z.object({\n  amount: z.number(),\n  subscriptionId: z.string(),\n  properties: z.record(z.string(), z.unknown()).optional(),\n  transactionId: z.string(),\n  usageDate: z.number().optional(),\n})\n\nconst usageEventWithPriceId = baseUsageEventFields.extend({\n  priceId: z.string(),\n  priceSlug: z.never().optional(), // Explicitly disallow\n  usageMeterId: z.never().optional(), // Explicitly disallow\n  usageMeterSlug: z.never().optional(), // Explicitly disallow\n})\n\nconst usageEventWithPriceSlug = baseUsageEventFields.extend({\n  priceSlug: z.string(),\n  priceId: z.never().optional(), // Explicitly disallow\n  usageMeterId: z.never().optional(), // Explicitly disallow\n  usageMeterSlug: z.never().optional(), // Explicitly disallow\n})\n\nconst usageEventWithUsageMeterId = baseUsageEventFields.extend({\n  usageMeterId: z.string(),\n  priceId: z.never().optional(), // Explicitly disallow\n  priceSlug: z.never().optional(), // Explicitly disallow\n  usageMeterSlug: z.never().optional(), // Explicitly disallow\n})\n\nconst usageEventWithUsageMeterSlug = baseUsageEventFields.extend({\n  usageMeterSlug: z.string(),\n  priceId: z.never().optional(), // Explicitly disallow\n  priceSlug: z.never().optional(), // Explicitly disallow\n  usageMeterId: z.never().optional(), // Explicitly disallow\n})\n\n/**\n * Schema for creating a usage event. You must provide exactly one identifier:\n * - `priceId` or `priceSlug`: For price-based usage tracking\n * - `usageMeterId` or `usageMeterSlug`: For usage meter-based tracking\n */\nexport const createUsageEventSchema = z.union([\n  usageEventWithPriceId,\n  usageEventWithPriceSlug,\n  usageEventWithUsageMeterId,\n  usageEventWithUsageMeterSlug,\n])\n\nexport type CreateUsageEventParams = z.infer<\n  typeof createUsageEventSchema\n>\n\n/**\n * Schema for bulk creating usage events. Takes an array of usage events.\n */\nexport const bulkCreateUsageEventsSchema = z.object({\n  usageEvents: z.array(createUsageEventSchema).min(1),\n})\n\n/**\n * Client-facing schema for creating a usage event.\n * This schema allows optional fields that the server will auto-resolve:\n * - `subscriptionId`: Auto-inferred from currentSubscription if not provided\n * - `amount`: Defaults to 1 if not provided\n * - `transactionId`: Auto-generated if not provided\n */\nconst clientBaseUsageEventFields = z.object({\n  amount: z.number().optional(),\n  subscriptionId: z.string().optional(),\n  properties: z.record(z.string(), z.unknown()).optional(),\n  transactionId: z.string().optional(),\n  usageDate: z.number().optional(),\n})\n\nconst clientUsageEventWithPriceId = clientBaseUsageEventFields.extend(\n  {\n    priceId: z.string(),\n    priceSlug: z.never().optional(),\n    usageMeterId: z.never().optional(),\n    usageMeterSlug: z.never().optional(),\n  }\n)\n\nconst clientUsageEventWithPriceSlug =\n  clientBaseUsageEventFields.extend({\n    priceSlug: z.string(),\n    priceId: z.never().optional(),\n    usageMeterId: z.never().optional(),\n    usageMeterSlug: z.never().optional(),\n  })\n\nconst clientUsageEventWithUsageMeterId =\n  clientBaseUsageEventFields.extend({\n    usageMeterId: z.string(),\n    priceId: z.never().optional(),\n    priceSlug: z.never().optional(),\n    usageMeterSlug: z.never().optional(),\n  })\n\nconst clientUsageEventWithUsageMeterSlug =\n  clientBaseUsageEventFields.extend({\n    usageMeterSlug: z.string(),\n    priceId: z.never().optional(),\n    priceSlug: z.never().optional(),\n    usageMeterId: z.never().optional(),\n  })\n\n/**\n * Client-facing schema for creating a usage event. You must provide exactly one identifier:\n * - `priceId` or `priceSlug`: For price-based usage tracking\n * - `usageMeterId` or `usageMeterSlug`: For usage meter-based tracking\n *\n * Optional fields will be auto-resolved by the server:\n * - `subscriptionId`: Auto-inferred from currentSubscription\n * - `amount`: Defaults to 1\n * - `transactionId`: Auto-generated (nanoid)\n */\nexport const clientCreateUsageEventSchema = z.union([\n  clientUsageEventWithPriceId,\n  clientUsageEventWithPriceSlug,\n  clientUsageEventWithUsageMeterId,\n  clientUsageEventWithUsageMeterSlug,\n])\n\nexport type ClientCreateUsageEventParams = z.infer<\n  typeof clientCreateUsageEventSchema\n>\n\nexport type BulkCreateUsageEventsParams = z.infer<\n  typeof bulkCreateUsageEventsSchema\n>\n\nexport type CancelSubscriptionParams = z.infer<\n  typeof cancelSubscriptionSchema\n>\n\nexport type UncancelSubscriptionParams = z.infer<\n  typeof uncancelSubscriptionSchema\n>\n\nconst createSubscriptionCoreSchema = z.object({\n  customerId: z.string(),\n  quantity: z.number().optional(),\n  startDate: z.string().datetime().optional(),\n  trialEnd: z\n    .number()\n    .optional()\n    .describe(\n      `Epoch time in milliseconds of when the trial ends. If not provided, defaults to startDate + the associated price's trialPeriodDays`\n    ),\n  metadata: z\n    .record(\n      z.string(),\n      z.union([z.string(), z.number(), z.boolean()])\n    )\n    .optional(),\n  name: z.string().optional(),\n  backupPaymentMethodId: z.string().optional(),\n  defaultPaymentMethodId: z.string().optional(),\n  interval: z.enum(['day', 'week', 'month', 'year']).optional(),\n  intervalCount: z.number().optional(),\n  doNotCharge: z.boolean().optional().default(false),\n})\n\nconst createSubscriptionWithPriceId =\n  createSubscriptionCoreSchema.extend({\n    priceId: z.string(),\n    priceSlug: z.never().optional(), // Explicitly disallow\n  })\n\nconst createSubscriptionWithPriceSlug =\n  createSubscriptionCoreSchema.extend({\n    priceSlug: z.string(),\n    priceId: z.never().optional(), // Explicitly disallow\n  })\n\nexport const createSubscriptionSchema = z.union([\n  createSubscriptionWithPriceId,\n  createSubscriptionWithPriceSlug,\n])\n\n/**\n * Use z.input to get the type before any transformations (like default values) are applied by the schema.\n * This keeps fields like `doNotCharge` optional in the input type, even if the schema applies defaults.\n */\nexport type CreateSubscriptionParams = z.input<\n  typeof createSubscriptionSchema\n>\n\nexport const billingAddressSchema = z.object({\n  name: z.string().optional(),\n  firstName: z.string().optional(),\n  lastName: z.string().optional(),\n  email: z.string().email().optional(),\n  address: z.object({\n    name: z.string().optional(),\n    line1: z.string().nullable(),\n    line2: z.string().nullable(),\n    city: z.string().nullable(),\n    state: z.string().nullable(),\n    postal_code: z.string().nullable(),\n    country: z.string(),\n  }),\n  phone: z.string().optional(),\n})\n\nexport const updateCustomerInputSchema = z.object({\n  id: z.string(),\n  name: z.string().optional(),\n  email: z.string().email().optional(),\n  phone: z.string().optional(),\n  billingAddress: billingAddressSchema.optional(),\n})\n\nexport const updateCustomerSchema = z.object({\n  customer: updateCustomerInputSchema,\n  externalId: z.string(),\n})\n\n/**\n * Schema for fetching all resources for a customer's subscription.\n * Returns capacity, claimed count, and available count for all resources.\n */\nexport const getResourcesSchema = z.object({\n  subscriptionId: z.string().optional(),\n})\n\nexport type GetResourcesParams = z.infer<typeof getResourcesSchema>\n\n/**\n * Schema for claiming resources from a subscription's capacity.\n *\n * Supports three mutually exclusive modes:\n * - `quantity`: Create N anonymous claims without external identifiers\n * - `externalId`: Create a named claim with a single external identifier (idempotent)\n * - `externalIds`: Create multiple named claims with external identifiers (idempotent)\n */\nexport const claimResourceSchema = z\n  .object({\n    resourceSlug: z.string(),\n    subscriptionId: z.string().optional(),\n    metadata: z\n      .record(\n        z.string(),\n        z.union([z.string().max(500), z.number(), z.boolean()])\n      )\n      .optional(),\n    quantity: z\n      .number()\n      .int()\n      .positive()\n      .optional()\n      .describe(\n        'Create N anonymous claims without external identifiers'\n      ),\n    externalId: z\n      .string()\n      .max(255)\n      .optional()\n      .describe('Create a named claim with this external identifier'),\n    externalIds: z\n      .array(z.string().max(255))\n      .nonempty()\n      .optional()\n      .describe(\n        'Create multiple named claims with these external identifiers'\n      ),\n  })\n  .refine(\n    (data) => {\n      const provided = [\n        data.quantity,\n        data.externalId,\n        data.externalIds,\n      ].filter((v) => v !== undefined)\n      return provided.length === 1\n    },\n    {\n      message:\n        'Exactly one of quantity, externalId, or externalIds must be provided',\n    }\n  )\n\nexport type ClaimResourceParams = z.infer<typeof claimResourceSchema>\n\n/**\n * Schema for releasing claimed resources back to the subscription's available pool.\n *\n * Supports four mutually exclusive modes:\n * - `quantity`: Release N anonymous claims in FIFO order (oldest first)\n * - `externalId`: Release a named claim by its external identifier\n * - `externalIds`: Release multiple named claims by their external identifiers\n * - `claimIds`: Release specific claims by their database IDs\n */\nexport const releaseResourceSchema = z\n  .object({\n    resourceSlug: z.string(),\n    subscriptionId: z.string().optional(),\n    quantity: z\n      .number()\n      .int()\n      .positive()\n      .optional()\n      .describe('Release N anonymous claims (FIFO)'),\n    externalId: z\n      .string()\n      .max(255)\n      .optional()\n      .describe('Release a named claim by external identifier'),\n    externalIds: z\n      .array(z.string().max(255))\n      .nonempty()\n      .optional()\n      .describe(\n        'Release multiple named claims by external identifiers'\n      ),\n    claimIds: z\n      .array(z.string())\n      .nonempty()\n      .optional()\n      .describe('Release specific claims by their IDs'),\n  })\n  .refine(\n    (data) => {\n      const provided = [\n        data.quantity,\n        data.externalId,\n        data.externalIds,\n        data.claimIds,\n      ].filter((v) => v !== undefined)\n      return provided.length === 1\n    },\n    {\n      message:\n        'Exactly one of quantity, externalId, externalIds, or claimIds must be provided',\n    }\n  )\n\nexport type ReleaseResourceParams = z.infer<\n  typeof releaseResourceSchema\n>\n\n/**\n * Schema for listing active resource claims for a subscription.\n * Can optionally filter by resource type.\n */\nexport const listResourceClaimsSchema = z.object({\n  subscriptionId: z.string().optional(),\n  resourceSlug: z.string().optional(),\n})\n\nexport const getResourceUsageSchema = z\n  .object({\n    subscriptionId: z.string().optional(),\n  })\n  .and(\n    z.union([\n      z.object({ resourceSlug: z.string() }),\n      z.object({ resourceId: z.string() }),\n    ])\n  )\n\nexport type GetResourceUsageParams = z.infer<\n  typeof getResourceUsageSchema\n>\n\nexport type ListResourceClaimsParams = z.infer<\n  typeof listResourceClaimsSchema\n>\n\n/**\n * Schema for fetching usage meter balances for a customer.\n * Returns usage meter balances for current subscriptions, optionally filtered by subscriptionId.\n * The customer externalId is derived server-side from the authenticated session.\n */\nexport const getUsageMeterBalancesSchema = z\n  .object({\n    subscriptionId: z.string().optional(),\n  })\n  .strict()\n\nexport type GetUsageMeterBalancesParams = z.infer<\n  typeof getUsageMeterBalancesSchema\n>\n\nexport type GetUsageMeterBalancesResponse = {\n  usageMeterBalances: UsageMeterBalance[]\n}\n\nexport const flowgladActionValidators = {\n  [FlowgladActionKey.GetCustomerBilling]: {\n    method: HTTPMethod.POST,\n    inputValidator: z.object({\n      externalId: z.string(),\n    }),\n  },\n  [FlowgladActionKey.FindOrCreateCustomer]: {\n    method: HTTPMethod.POST,\n    inputValidator: z.object({\n      externalId: z.string(),\n    }),\n  },\n  [FlowgladActionKey.CreateAddPaymentMethodCheckoutSession]: {\n    method: HTTPMethod.POST,\n    inputValidator: createAddPaymentMethodCheckoutSessionSchema,\n  },\n  [FlowgladActionKey.CreateActivateSubscriptionCheckoutSession]: {\n    method: HTTPMethod.POST,\n    inputValidator: createActivateSubscriptionCheckoutSessionSchema,\n  },\n  [FlowgladActionKey.CreateCheckoutSession]: {\n    method: HTTPMethod.POST,\n    inputValidator: createProductCheckoutSessionSchema,\n  },\n  [FlowgladActionKey.CancelSubscription]: {\n    method: HTTPMethod.POST,\n    inputValidator: cancelSubscriptionSchema,\n  },\n  [FlowgladActionKey.UncancelSubscription]: {\n    method: HTTPMethod.POST,\n    inputValidator: uncancelSubscriptionSchema,\n  },\n  [FlowgladActionKey.AdjustSubscription]: {\n    method: HTTPMethod.POST,\n    inputValidator: adjustSubscriptionParamsSchema,\n  },\n  [FlowgladActionKey.CreateSubscription]: {\n    method: HTTPMethod.POST,\n    inputValidator: createSubscriptionSchema,\n  },\n  [FlowgladActionKey.UpdateCustomer]: {\n    method: HTTPMethod.POST,\n    inputValidator: updateCustomerSchema,\n  },\n  [FlowgladActionKey.CreateUsageEvent]: {\n    method: HTTPMethod.POST,\n    inputValidator: clientCreateUsageEventSchema,\n  },\n  [FlowgladActionKey.GetResourceUsages]: {\n    method: HTTPMethod.POST,\n    inputValidator: getResourcesSchema,\n  },\n  [FlowgladActionKey.ClaimResource]: {\n    method: HTTPMethod.POST,\n    inputValidator: claimResourceSchema,\n  },\n  [FlowgladActionKey.ReleaseResource]: {\n    method: HTTPMethod.POST,\n    inputValidator: releaseResourceSchema,\n  },\n  [FlowgladActionKey.ListResourceClaims]: {\n    method: HTTPMethod.POST,\n    inputValidator: listResourceClaimsSchema,\n  },\n  [FlowgladActionKey.GetResourceUsage]: {\n    method: HTTPMethod.POST,\n    inputValidator: getResourceUsageSchema,\n  },\n  [FlowgladActionKey.GetPricingModel]: {\n    method: HTTPMethod.POST,\n    inputValidator: z.object({}).strict(),\n  },\n  [FlowgladActionKey.GetUsageMeterBalances]: {\n    method: HTTPMethod.POST,\n    inputValidator: getUsageMeterBalancesSchema,\n  },\n} as const satisfies FlowgladActionValidatorMap\n"],"mappings":"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","names":[]}