import { type RequestHandlerOptions } from '../requestHandler';
/**
 * Options for creating a Supabase Edge Functions handler with scoped FlowgladServer instances.
 */
export interface SupabaseEdgeHandlerOptions extends RequestHandlerOptions<Request> {
    /**
     * Optional base path for explicit path extraction.
     * When provided, strips this prefix from the URL pathname before extracting the Flowglad action path.
     * More reliable than auto-detection for custom domains, proxies, or non-standard setups.
     * @example '/functions/v1/api-flowglad'
     */
    basePath?: string;
}
/**
 * Creates a Supabase Edge Functions handler for Flowglad API routes.
 *
 * This handler adapts the standard Web `Request` API (used by Deno and Supabase Edge Functions)
 * to the Flowglad request handler pattern.
 *
 * @param options - Configuration options including customer ID extraction and FlowgladServer factory
 * @returns A handler function that accepts a Request and returns a Promise<Response>
 *
 * @example
 * ```typescript
 * import { supabaseEdgeHandler } from '@flowglad/server/supabase'
 * import { FlowgladServer } from '@flowglad/server'
 *
 * const handler = supabaseEdgeHandler({
 *   basePath: '/functions/v1/api-flowglad',
 *   getCustomerExternalId: async (req) => {
 *     // Extract customer ID from request (e.g., from auth header)
 *     const authHeader = req.headers.get('Authorization')
 *     // ... validate and extract user ID
 *     return userId
 *   },
 *   flowglad: (customerExternalId) => new FlowgladServer({
 *     customerExternalId,
 *     getCustomerDetails: async (id) => ({
 *       name: 'Customer Name',
 *       email: 'customer@example.com',
 *     }),
 *   }),
 * })
 *
 * // In your Supabase Edge Function
 * Deno.serve(handler)
 * ```
 */
export declare const supabaseEdgeHandler: (options: SupabaseEdgeHandlerOptions) => ((req: Request) => Promise<Response>);
